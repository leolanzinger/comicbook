<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: panelView.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: panelView.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
*	View class for each panel
*	@constructor
*	@param {string} id - given panel id
*	@param {int} x - panel position on the x-axis
*	@param {int} y - panel position on the y-axis
*	@param {int} width - panel width
*	@param {int} height - panel height
*	@param {Object} model - reference to model class
*	@param {int} index - model class panel array's index
*/
function panelView(id, x, y, width, height, model, index) {
	this.id = id;
	this.class = 'canvas-panel';
	this.height = height;
	this.width = width;
	this.layerList = new Array();
	this.n_of_layers = this.layerList.length;
	this.index = index;
	this.canvasContr;

	this.canvasControllerList = new Array();

	model.panelList.push(this);

	$('#persistent').append('&lt;div id="' + this.id + '" class="canvas-panel" style="position: absolute; margin-left: ' + x +'px; margin-top: '+ y +'px; width: '+this.width+'px; height: '+this.height+'px;">&lt;input id="upload-field-'+this.id+'" class="upload-field" type="file" name="upload" onchange="canvas_model.handleFiles(this.files, ' + this.index + ')" />&lt;/div>');
	$('.upload-field').hide();

	/** Add canvas to this panel
	*	@param {int} z_index - given z_index of last created canvas
	*/
	this.addCanvas = function(z_index) {
		$('#'+ this.id).append('&lt;canvas id="' +  this.id + '-canvas-' + z_index + '" class="canvas-layer" width="'+this.width+'" height="'+this.height+'" style="z-index: '+  z_index +'">&lt;/canvas>');	
		var layer = document.getElementById(this.id);
		this.layerList.push(layer);
		this.n_of_layers = this.layerList.length;
	}

	/** Create canvas controller and add it to canvas controllers array
	*	@param {Object} panel - reference to panel object where the canvas is attached
	*	@param {Object} model - reference to model class
	*	@param {int} layer - z-index of canvas
	* 	@param {int} panel_index - z-index of panel
	*/
	this.createCanvasController = function(panel, model, layer, panel_index) {
		this.canvasContr = new canvasController(panel, model, layer, panel_index);
		this.addController(this.canvasContr);
	}

	/** Add controller to controller list
	*	@param {Object} controller - controller to be added to list
	*/
	this.addController = function(controller) {
		this.canvasControllerList.push(controller);
	}
	
	/** Set Background color to canvas
	*	@param {int} z_index - index of panel
	*	@param {String} color - color hex code
	*/
	this.setBackground = function(z_index, color) {
		$('#' + id + '-canvas-' + z_index).css("background-color", color);
	}

	/** Set panel draggable
	*	@param {boolean} draggable_mode
	*/
	this.draggable = function(draggable_mode) {
		if(draggable_mode) {
			$('#' + id).draggable({ disabled: false });
		}
		else {
			$('#' + id).draggable({ disabled: true });
		}
	}

	/** Triggers draggable state */
	this.doTool = function() {
		if (model.draggable) {
			this.draggable(true);
		}
		else if (!model.draggable) {
			this.draggable(false);
		}
	}
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="bubbleView.html">bubbleView</a></li><li><a href="model.html">model</a></li><li><a href="pageTemplateController.html">pageTemplateController</a></li><li><a href="panelView.html">panelView</a></li></ul><h3>Global</h3><ul><li><a href="global.html#canvasController">canvasController</a></li><li><a href="global.html#createImage">createImage</a></li><li><a href="global.html#setActiveIcon">setActiveIcon</a></li><li><a href="global.html#toolController">toolController</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Fri Nov 14 2014 02:46:12 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
